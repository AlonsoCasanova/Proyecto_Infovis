<!DOCTYPE html>
<html>
<head>
  <title>Pruebas</title>
  <script src="https://cdn.plot.ly/plotly-2.34.0.min.js"></script>
  <style>
    #graph
    {
        position: absolute;
		width: 800px;
		height: 800px;
		border: 0px solid #333;
		left: 0px;
		top: 0px;
        right: 0px;
        z-index: 1;
    }
  </style>

</head>
<body>
  <div id='myDiv'>

  <!-- <img id="dormitorio" src="dorm1.jpg" alt="dormitorio"> --><!--  width="600" height="500"> -->
  <div id="graph"></div>

  </div>
    <script>
        var data = [{
            type: 'bar',
            x: [
                "Cocina eléctrica (1800W)", "Hervidor", "Horno eléctrico", "Microondas (800W)", "Refrigerador Clase A", 
                "Aire acondicionado calor (9000 BTU)", "Lavadora/Secadora Clase A (lavado)", "Lavadora/Secadora Clase A (secado)",
                "Pantalla 45 Clase A", "Licuadora", "Aspiradora (1400W)"
            ], 
            y: [
                900.00, 98.33, 125.00, 13.33, 126.67, 760.00, 35.00, 121.67, 16.67, 6.67, 116.67
            ],
            marker: {
                color: [],  
                colorscale: 'Blues', 
                showscale: true
            }
            }];
        
        // Sortear los datos para que se vea mejor
        let sortedData = data[0].x.map((value, index) => {
            return { x: value, y: data[0].y[index] };
        });

        sortedData.sort((a, b) => b.y - a.y);
        data[0].x = sortedData.map(item => item.x);
        data[0].y = sortedData.map(item => item.y);

        const maxY = Math.max(...data[0].y);
        const minY = Math.min(...data[0].y);
        // Mapea los valores de y de 0 a 1 en escala "azules"
        data[0].marker.color = data[0].y.map(value => (value - maxY) / (minY - maxY)); 


        
        const layout = {
            title: 'Consumo Eléctrico de Electrodomésticos',
            xaxis: {
                title: 'Electrodomésticos'
            },
            yaxis: {
                title: 'Consumo (horas de luz)'
            }
        };

        Plotly.newPlot('graph', data, layout);

    </script>
</body>


